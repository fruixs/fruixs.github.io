<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function Object example</title>
</head>

<body>
    <!-- 
        객체로서의 함수를 설명하는 예제입니다.
        이 예문은 iterable 객체와 Generator 의 이해가 필요합니다.
        내부 동작 원리를 알아야 합니다. 특히 yield 구문에서 어떻게
        처리하는지 알아야 합니다.
    -->
    <script type="text/javascript">
        /* yield statement 는 값을 return 하고 다음 iterator의
        공통 protocol의 next()를 통해 다음 context(실행 환경) 로 넘어간다.
        */
       
        function ask(question, ...handlers) {
            let isYes = confirm(question);
            let counter = 1;
            // handlers.length === 2
            // 여기 length 는 function 의 parameter 개수이다.
            for (let handler of handlers) {
                console.log(`${counter++} 번째`, handler.length)
                if (handler.length == 0) {
                    if (isYes) handler();
                } else {
                    handler(console.log("test A: ", isYes));
                }
            }

        }

        // 사용자가 OK를 클릭한 경우, 핸들러 두 개를 모두 호출함
        // 사용자가 Cancel을 클릭한 경우, 두 번째 핸들러만 호출함
        ask("질문 있으신가요?", () => alert('OK를 선택하셨습니다.'), result => alert(result));


        
    </script>
</body>

</html>